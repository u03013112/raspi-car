# 这部分代码将在raspi上运行

## 放到docker里是为了方便部署

## 获得raspi ip的方法：
树莓派连接到相同局域网后，总是需要定位他的IP，这个很麻烦
用ddns的方式还需要一个有效的域名，另外就是更新不够及时
偶然间在网上找到一个有趣的帖子，好像树莓派默认支持的协议里有类似NetBIOS的主机名查询功能，所以这个会比较方便。就算不能有效的映射主机名，也可以通过硬记住自己pi的mac来进行ip定位
并将pi 的 ip 写到脚本里
### 以下是方案，带回家后验证没问题讲写到同步脚本中
环境：电脑和树莓派链接在同一网络内；
arp-scan工具能扫出局域网所有的IP地址；
安装arp-scan：
mac os
brew install arp-scan
Ubuntu
`注意：这个玩意需要root权限，需要sudo`
扫描以太网IP地址：
sudo arp-scan --interface en0 --localnet 
简写
sudo arp-scan -I en0 -l

## 新的有刷电调的坑
之前用的l298n来做的动力控制，主要问题是电流不足。想要电机有足够的电流，选择了支持电流更大的eagle 30A有刷电调。采用PWM来控制。
其中得到结论：虽然说明书的上说该电调支持的频率是2KHz，但实际仍然是使用`50Hz`。按照一般的协议`占空比应该是5%~10%之间`是有效区间，但实际测试中发现4%~12%都有效，具体是否是和协议有差距有待用万用表测试。